# Backend

## Roles Table

| field     | data type        | metadata                                            |
| :-------- | :--------------- | :-------------------------------------------------- |
| id        | unsigned integer | primary key, auto-increments, generated by database |
| role_name | string           | required , admin, Chefs, Users                      |

## Chefs Table

| field    | data type        | metadata                                                  |
| :------- | :--------------- | :-------------------------------------------------------- |
| id       | unsigned integer | primary key, auto-increments, generated by database       |
| username | string           | required, unique                                          |
| password | string           | required                                                  |
| location | string           | required                                                  |
| role_id  | integer          | required, foreign key, 1 is admin, 2 is Chefs, 3 is Users |

_Endpoints_ 
 - `POST /api/auth/chefs/register` - creates a chef account.
 - `POST /api/auth/chefs/login` - login for Chef, returns an id, role, and JWT. 


## Users Table

| field     | data type        | metadata                                                  |
| :-------- | :--------------- | :-------------------------------------------------------- |
| id        | unsigned integer | primary key, auto-increments, generated by database       |
| username  | string           | required, unique                                          |
| password  | string           | required                                                  |
| role_id   | integer          | required, foreign key, 1 is admin, 2 is Chefs, 3 is Users |
| chef_id   | integer          | foreign key                                               |
| recipe_id | integer          | foreign key                                               |

_Endpoints_
 - `POST /api/auth/users/register` - creates a user account.
 - `POST /api/auth/users/login` - login for user, returns an id and JWT. 


## Recipes Table

| field       | data type        | metadata                                            |
| :---------- | :--------------- | :-------------------------------------------------- |
| id          | unsigned integer | primary key, auto-increments, generated by database |
| recipe_name | string           | required, unique                                    |
| chef_id     | integer          | required, foreign key                               |

_RESTRICTED EndPoints -  (must have JWT stored to authorization header in Local Storage)_
- `GET /api/recipes/` -  returns a list of all the recipes.
- `GET /api/recipes/:id` - returns a specific recipe.
- `GET /api/recipes/:id/instructions` - returns a list of instructions for a recipe.
- `POST /api/recipes/` - creates a recipe. MUST INCLUDE (recipe_name & chef_id)
- `PUT /api/recipes/:id` - updates a specific recipe. Must have a change.
- `DELETE /api/recipes/:id` - deletes a specific recipe.

## Ingredients Table

| field           | data type        | metadata                                            |
| :-------------- | :--------------- | :-------------------------------------------------- |
| id              | unsigned integer | primary key, auto-increments, generated by database |
| ingredient_name | string           | required, unique                                    |

## Instructions Table

| field       | data type        | metadata                                            |
| :---------- | :--------------- | :-------------------------------------------------- |
| id          | unsigned integer | primary key, auto-increments, generated by database |
| recipe_id   | integer          | required, foreign key                               |
| step_number | integer          | required                                            |
| instruction | string           | required                                            |

## Recipe Ingredients Details Table

| field            | data type        | metadata                                            |
| :--------------- | :--------------- | :-------------------------------------------------- |
| id               | unsigned integer | primary key, auto-increments, generated by database |
| recipe_id        | integer          | required, foreign key                               |
| quantity         | float            | required                                            |
| measurement_unit | string           | required                                            |
| ingredient_id    | integer          | required, foreign key                               |
